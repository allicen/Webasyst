<h1 class="title">Плагин заказа обратного звонка</h1>
<p>Плагин создан для фреймворка <a href="https://www.webasyst.ru/" target="_blank">Webasyst</a> и приложения <a href="https://www.webasyst.ru/store/app/shop/" target="_blank">Shop-Script</a> (от 7 версии).</p>

<p>Посмотреть демо (ссылка появится позже).</p>

<h2>Задача</h2>
Реализовать в виде плагина дополнительный функционал «Обратного звонка» с отправкой уведомления на e-mail адрес администратора. Плагин необходимо реализовать для приложения Shop-Script 8 на платформе Webasyst.

<h2>Описание функционала</h2>

<p>Название плагина: Заказ обратного звонка<br>
ID плагина: ordercall</p>

<h3>1. Back-end</h3>

<p>Плагин имеет следующие настройки:</p>
<p><b>1. Включить плагин</b></p>
<p>Выбор данного параметра происходит с помощью выпадающего списка (select) и имеет два значения: Включен/Выключен</p>
<p><b>2. E-mail  отправителя</b></p>
<p>Поле ввода (input), в который будет вводиться e-mail адрес, от которого будут приходить письма-уведомления о заказе обратного звонка.</p>
<p><b>3. E-mail для уведомления</b></p>
<p>Поле ввода (input) в который будет вводиться e-mail адрес, на который будет отправляться уведомления о заказе звонка.</p>
<p><b>4. Ссылка на страницу с  политикой обработки персональных данных</b></p>
<p>Поле ввода (input) с возможностью указать ссылку на любую страницу сайта.</p>

<h3>2) Front-end</h3>

<p>Вывод плагина (формы) в публичную часть должен осуществляться с помощью хелпера <b>{shopOrdercallViewHelper::display()}</b>  в виде ссылки «Заказать обратный звонок»</p>
<p><b>Функционал формы, выводимый по клику на ссылке «Заказать обратный звонок»</b></p>
<p>1. Вид формы см. <a href="https://github.com/allicen/Webasyst/blob/master/img.png" target="_blank">по ссылке</a>. Форма должна быть адаптивной и корректно отображаться на мобильных устройствах.</p>
<p>2. Капча используется встроенная в Webasyst.</p>
<p>После отправки, в этом же окне должно появиться сообщение об удачной отправке сообщения и кнопка для закрытия формы.</p>

<h3>3. Шаблон письма администратору</h3>

<p>На указанный в настройках e-mail адрес должно приходить письмо о заказе обратного звонка с сайта.</p>
<p>В шаблоне, который будет отправлен администратору, должно находиться следующее содержание:</p>
<p>— Тема письма: Новый заказ звонка на сайте<br>
— Имя отправителя (Из формы)<br>
— Номер отправителя (Из формы)<br>
— Удобное время для звонка<br>
— Комментарий.</p>

<h2>Инструкция по установке</h2>
<p>1. Установить Shop-Script последней версии.</p>
<p>2. Скопировать папку ordercall целиком в папку \wa-apps\shop\plugins.  </p>
<p>3. Перейти в папку \wa-config\apps\shop, открыть файл plugins.php, добавить строку:</p>
<pre>'ordercall' => true</pre>
<p>4. Зайти в админку сайта под логином администратора и очистить кеш в Инсталлере или приложении "Настройки".</p>
<p>5. Настроить плагин в разделе "Магазин / Плагины / Заказ обратного звонка".</p>
<p>6. Добавить хелпер {shopOrdercallViewHelper::display()} в шаблон вашей темы дизайна.</p>

